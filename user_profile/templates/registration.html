<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8">
    <title>Медиа 57:: регистрация</title>
</head>

<body>
    <div class="header"></div>
    <div class="content">
        {{ error }}
        <div id="registration-forms">
            <form method="post">
                {% csrf_token %}
                <div id="general-registration">
                    <ul>
                        {{ general_reg_form.as_ul }}
                    </ul>
                </div>
                <div id="student-registration">
                    <input type="checkbox" v-model="checked" id="student-registration-form">
                    <ul v-if="checked">
                        {{ student_reg_form.as_ul }}
                    </ul>
                </div>
                <div id="teacher-registration">
                    <input type="checkbox" v-model="checked">
                    <ul v-if="checked">
                        {{ teacher_reg_form.as_ul }}
                    </ul>
                </div>
                <input type="submit" value="Зарегистрироваться">
            </form>
        </div>
    </div>
    <div class="footer"></div>
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <script>
        "use strict";

        let student_reg = new Vue({
            el: "#student-registration",
            data: {
                checked: false
            }
        });

        let teacher_reg = new Vue({
            el: "#teacher-registration",
            data: {
                checked: false
            }
        });

        let student_reg_form = document.getElementById("student-registration-form");
        student_reg_form.addEventListener("checked", function(){
            let grade_letter = document.getElementById("grade-letter");
            let end_year = document.getElementById("end-year");
            if(end_year.isEmpty()){
                grade_letter.setAttribute("disabled", "disabled");
            } else {
                grade_letter.removeAttribute("disabled", "disabled");
            }
        });
    </script>
</body>
</html>
